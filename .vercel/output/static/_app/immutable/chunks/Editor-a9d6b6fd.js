import{N as gt,S as vt,i as Et,s as bt,k as v,x as yt,a as N,q as ht,l as E,m as w,y as kt,c as O,h as k,r as _t,n,b as G,E as i,z as Tt,R as mt,M as Lt,g as It,P as wt,d as Dt,f as rt,t as nt,A as St,O as Pt,T as Nt,U as Ot,u as Ut,V as At,W as Ft,X as Rt,Y as Vt,Z as ot,_ as qt,C as Ct}from"./index-20254749.js";import{e as Mt}from"./forms-73b5ffc7.js";import{L as $t}from"./ListErrors-1b15f5ad.js";function pt(o){const e=o-1;return e*e*e+1}function it(o,{delay:e=0,duration:t=400,easing:a=pt,start:c=0,opacity:_=0}={}){const b=getComputedStyle(o),l=+b.opacity,y=b.transform==="none"?"":b.transform,u=1-c,D=l*(1-_);return{delay:e,duration:t,easing:a,css:(P,m)=>`
			transform: ${y} scale(${1-u*m});
			opacity: ${l-D*m}
		`}}function xt(o,{from:e,to:t},a={}){const c=getComputedStyle(o),_=c.transform==="none"?"":c.transform,[b,l]=c.transformOrigin.split(" ").map(parseFloat),y=e.left+e.width*b/t.width-(t.left+b),u=e.top+e.height*l/t.height-(t.top+l),{delay:D=0,duration:P=p=>Math.sqrt(p)*120,easing:m=pt}=a;return{delay:D,duration:gt(P)?P(Math.sqrt(y*y+u*u)):P,easing:m,css:(p,S)=>{const U=S*y,h=S*u,f=p+S*e.width/t.width,q=p+S*e.height/t.height;return`transform: ${_} translate(${U}px, ${h}px) scale(${f}, ${q});`}}}function ct(o,e,t){const a=o.slice();return a[4]=e[t],a}function ut(o,e,t){const a=o.slice();return a[4]=e[t],a[8]=t,a}function ft(o,e){let t,a,c,_=e[4]+"",b,l,y,u,D,P=Ct,m,p,S;function U(){return e[3](e[8])}return{key:o,first:null,c(){t=v("button"),a=v("i"),c=N(),b=ht(_),l=N(),this.h()},l(h){t=E(h,"BUTTON",{class:!0,"aria-label":!0});var f=w(t);a=E(f,"I",{class:!0}),w(a).forEach(k),c=O(f),b=_t(f,_),l=O(f),f.forEach(k),this.h()},h(){n(a,"class","ion-close-round"),n(t,"class","tag-default tag-pill svelte-16iqxek"),n(t,"aria-label",y="Remove "+e[4]+" tag"),this.first=t},m(h,f){G(h,t,f),i(t,a),i(t,c),i(t,b),i(t,l),m=!0,p||(S=mt(t,"click",Ot(U)),p=!0)},p(h,f){e=h,(!m||f&1)&&_!==(_=e[4]+"")&&Ut(b,_),(!m||f&1&&y!==(y="Remove "+e[4]+" tag"))&&n(t,"aria-label",y)},r(){D=t.getBoundingClientRect()},f(){At(t),P(),Ft(t,D)},a(){P(),P=Rt(t,D,xt,{duration:200})},i(h){m||(h&&Vt(()=>{u||(u=ot(t,it,{duration:200},!0)),u.run(1)}),m=!0)},o(h){h&&(u||(u=ot(t,it,{duration:200},!1)),u.run(0)),m=!1},d(h){h&&k(t),h&&u&&u.end(),p=!1,S()}}}function dt(o){let e,t;return{c(){e=v("input"),this.h()},l(a){e=E(a,"INPUT",{name:!0}),this.h()},h(){e.hidden=!0,n(e,"name","tag"),e.value=t=o[4]},m(a,c){G(a,e,c)},p(a,c){c&1&&t!==(t=a[4])&&e.value!==t&&(e.value=t)},d(a){a&&k(e)}}}function Bt(o){let e,t,a,c,_,b,l,y,u,D,P,m,p,S,U,h,f,q,X,C,M,z,A,g=[],H=new Map,Y,W,$,Z,F,j,J;_=new $t({props:{errors:o[1]}});let B=o[0].tagList;const K=s=>s[4];for(let s=0;s<B.length;s+=1){let r=ut(o,B,s),L=K(r);H.set(L,g[s]=ft(L,r))}let x=o[0].tagList,T=[];for(let s=0;s<x.length;s+=1)T[s]=dt(ct(o,x,s));return{c(){e=v("div"),t=v("div"),a=v("div"),c=v("div"),yt(_.$$.fragment),b=N(),l=v("form"),y=v("fieldset"),u=v("input"),P=N(),m=v("fieldset"),p=v("input"),U=N(),h=v("fieldset"),f=v("textarea"),X=N(),C=v("fieldset"),M=v("input"),z=N(),A=v("div");for(let s=0;s<g.length;s+=1)g[s].c();Y=N();for(let s=0;s<T.length;s+=1)T[s].c();W=N(),$=v("button"),Z=ht("Publish Article"),this.h()},l(s){e=E(s,"DIV",{class:!0});var r=w(e);t=E(r,"DIV",{class:!0});var L=w(t);a=E(L,"DIV",{class:!0});var d=w(a);c=E(d,"DIV",{class:!0});var R=w(c);kt(_.$$.fragment,R),b=O(R),l=E(R,"FORM",{method:!0});var I=w(l);y=E(I,"FIELDSET",{class:!0});var Q=w(y);u=E(Q,"INPUT",{name:!0,class:!0,placeholder:!0}),Q.forEach(k),P=O(I),m=E(I,"FIELDSET",{class:!0});var tt=w(m);p=E(tt,"INPUT",{name:!0,class:!0,placeholder:!0}),tt.forEach(k),U=O(I),h=E(I,"FIELDSET",{class:!0});var et=w(h);f=E(et,"TEXTAREA",{name:!0,class:!0,rows:!0,placeholder:!0}),w(f).forEach(k),et.forEach(k),X=O(I),C=E(I,"FIELDSET",{class:!0});var lt=w(C);M=E(lt,"INPUT",{class:!0,placeholder:!0}),lt.forEach(k),z=O(I),A=E(I,"DIV",{class:!0});var at=w(A);for(let V=0;V<g.length;V+=1)g[V].l(at);at.forEach(k),Y=O(I);for(let V=0;V<T.length;V+=1)T[V].l(I);W=O(I),$=E(I,"BUTTON",{class:!0});var st=w($);Z=_t(st,"Publish Article"),st.forEach(k),I.forEach(k),R.forEach(k),d.forEach(k),L.forEach(k),r.forEach(k),this.h()},h(){n(u,"name","title"),n(u,"class","form-control form-control-lg"),n(u,"placeholder","Article Title"),u.value=D=o[0].title,n(y,"class","form-group"),n(p,"name","description"),n(p,"class","form-control"),n(p,"placeholder","What's this article about?"),p.value=S=o[0].description,n(m,"class","form-group"),n(f,"name","body"),n(f,"class","form-control"),n(f,"rows","8"),n(f,"placeholder","Write your article (in markdown)"),f.value=q=o[0].body,n(h,"class","form-group"),n(M,"class","form-control"),n(M,"placeholder","Enter tags"),n(C,"class","form-group"),n(A,"class","tag-list"),n($,"class","btn btn-lg pull-xs-right btn-primary"),n(l,"method","POST"),n(c,"class","col-md-10 offset-md-1 col-xs-12"),n(a,"class","row"),n(t,"class","container page"),n(e,"class","editor-page")},m(s,r){G(s,e,r),i(e,t),i(t,a),i(a,c),Tt(_,c,null),i(c,b),i(c,l),i(l,y),i(y,u),i(l,P),i(l,m),i(m,p),i(l,U),i(l,h),i(h,f),i(l,X),i(l,C),i(C,M),i(l,z),i(l,A);for(let L=0;L<g.length;L+=1)g[L].m(A,null);i(l,Y);for(let L=0;L<T.length;L+=1)T[L].m(l,null);i(l,W),i(l,$),i($,Z),F=!0,j||(J=[mt(M,"keydown",o[2]),Lt(Mt.call(null,l))],j=!0)},p(s,[r]){const L={};if(r&2&&(L.errors=s[1]),_.$set(L),(!F||r&1&&D!==(D=s[0].title)&&u.value!==D)&&(u.value=D),(!F||r&1&&S!==(S=s[0].description)&&p.value!==S)&&(p.value=S),(!F||r&1&&q!==(q=s[0].body))&&(f.value=q),r&1){B=s[0].tagList,It();for(let d=0;d<g.length;d+=1)g[d].r();g=wt(g,r,K,1,s,B,H,A,qt,ft,null,ut);for(let d=0;d<g.length;d+=1)g[d].a();Dt()}if(r&1){x=s[0].tagList;let d;for(d=0;d<x.length;d+=1){const R=ct(s,x,d);T[d]?T[d].p(R,r):(T[d]=dt(R),T[d].c(),T[d].m(l,W))}for(;d<T.length;d+=1)T[d].d(1);T.length=x.length}},i(s){if(!F){rt(_.$$.fragment,s);for(let r=0;r<B.length;r+=1)rt(g[r]);F=!0}},o(s){nt(_.$$.fragment,s);for(let r=0;r<g.length;r+=1)nt(g[r]);F=!1},d(s){s&&k(e),St(_);for(let r=0;r<g.length;r+=1)g[r].d();Pt(T,s),j=!1,Nt(J)}}}function Wt(o,e,t){let{article:a}=e,{errors:c}=e;const _=l=>{l.key==="Enter"&&(l.preventDefault(),a.tagList.includes(l.target.value)||t(0,a.tagList=[...a.tagList,l.target.value],a),l.target.value="")},b=l=>{t(0,a.tagList=[...a.tagList.slice(0,l),...a.tagList.slice(l+1)],a)};return o.$$set=l=>{"article"in l&&t(0,a=l.article),"errors"in l&&t(1,c=l.errors)},[a,c,_,b]}class Zt extends vt{constructor(e){super(),Et(this,e,Wt,Bt,bt,{article:0,errors:1})}}export{Zt as E};
